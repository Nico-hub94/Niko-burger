<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIKO BURGER - Men√∫</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Ajuste espec√≠fico para el modal del carrito en m√≥viles: asegura altura y visibilidad del footer */
        @media (max-width: 480px) {
            #cart-modal-inner {
                height: 100dvh !important;
                max-height: 100dvh !important;
                min-height: 0 !important;
                width: 100vw !important;
                max-width: 100vw !important;
                left: 0 !important;
                right: 0 !important;
                display: flex;
                flex-direction: column;
            }
        }
        /* Mejoras de responsividad para m√≥viles */
        html {
            box-sizing: border-box;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        @media (max-width: 480px) {
            .max-w-md {
                max-width: 100vw !important;
            }
            .px-4 {
                padding-left: 0.5rem !important;
                padding-right: 0.5rem !important;
            }
            .py-3, .py-6 {
                padding-top: 0.75rem !important;
                padding-bottom: 0.75rem !important;
            }
            .rounded-lg, .rounded-full, .rounded-xl {
                border-radius: 0.75rem !important;
            }
            .text-2xl, .text-3xl, .text-xl {
                font-size: 1.2rem !important;
            }
            .text-lg {
                font-size: 1rem !important;
            }
            .text-sm {
                font-size: 0.95rem !important;
            }
            .flex {
                flex-wrap: wrap !important;
            }
            .gap-2, .gap-3 {
                gap: 0.5rem !important;
            }
            .w-10, .w-12, .w-8, .w-6 {
                width: 2rem !important;
                height: 2rem !important;
            }
            .h-10, .h-12, .h-8, .h-6 {
                height: 2rem !important;
            }
            .shadow-lg, .shadow-md, .shadow-sm, .shadow-2xl {
                box-shadow: 0 1px 6px 0 #00000030 !important;
            }
            .border-l-8 {
                border-left-width: 4px !important;
            }
            .tab-section {
                margin-bottom: 2rem !important;
            }
            #cart-modal .fixed {
                max-width: 100vw !important;
                width: 100vw !important;
                left: 0 !important;
                right: 0 !important;
            }
            #cart-modal .p-4 {
                padding: 0.75rem !important;
            }
            #cart-modal .w-full {
                width: 100% !important;
            }
            #cart-modal .h-full {
                height: 100vh !important;
            }
            #cart-modal .rounded-lg, #cart-modal .rounded-xl {
                border-radius: 0.75rem !important;
            }
            #cart-modal .text-xl, #cart-modal .text-lg {
                font-size: 1.1rem !important;
            }
            #cart-modal .text-sm {
                font-size: 0.95rem !important;
            }
            #cart-modal .py-3, #cart-modal .py-6 {
                padding-top: 0.75rem !important;
                padding-bottom: 0.75rem !important;
            }
            #cart-modal .px-4 {
                padding-left: 0.5rem !important;
                padding-right: 0.5rem !important;
            }
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; transition: background 0.4s, color 0.4s; }
        html {
            box-sizing: border-box;
            width: 100vw;
            overflow-x: hidden;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        @media (max-width: 480px) {
            html, body {
                width: 100vw;
                min-width: 0;
                padding: 0;
                margin: 0;
                overflow-x: hidden;
            }
            .max-w-md {
                max-width: 100vw !important;
            }
            .px-4 {
                padding-left: 0.5rem !important;
                padding-right: 0.5rem !important;
            }
            .py-3, .py-6 {
                padding-top: 0.75rem !important;
                padding-bottom: 0.75rem !important;
            }
            .rounded-lg, .rounded-full, .rounded-xl {
                border-radius: 0.75rem !important;
            }
            .flex {
                flex-wrap: wrap;
            }
            .gap-2, .gap-3 {
                gap: 0.5rem !important;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1.1em !important;
                word-break: break-word;
            }
            .text-2xl, .text-xl, .text-lg, .text-sm, .text-xs {
                font-size: 1em !important;
                word-break: break-word;
            }
            .cart-header-btn, #cart-header-btn {
                padding-left: 0.5rem !important;
                padding-right: 0.5rem !important;
            }
            #cart-modal .fixed {
                max-width: 100vw !important;
                width: 100vw !important;
                left: 0 !important;
            }
            #cart-modal .p-4 {
                padding: 0.75rem !important;
            }
            #cart-modal .border-t {
                margin-bottom: 2rem !important;
            }
            #cart-header-total {
                font-size: 0.9em !important;
                padding: 0.2em 0.5em !important;
            }
            .tab-section {
                margin-bottom: 1.5rem !important;
            }
            .space-y-4 > * + * {
                margin-top: 0.75rem !important;
            }
        }
        /* Colores personalizados para gastronom√≠a */
        :root {
            --main-bg: #fff7ed;
            --main-accent: #eab308;
            --main-accent-dark: #b45309;
            --main-red: #dc2626;
            --main-green: #16a34a;
            --main-dark-bg: #18181b;
            --main-dark-card: #23272f;
            --main-dark-text: #f8fafc;
            --main-dark-accent: #ffe066;
            --main-dark-border: #444857;
            --main-dark-btn: #eab308;
            --main-dark-btn-hover: #facc15;
            --main-dark-input: #23272f;
        }
        .bg-gastro {
            background: linear-gradient(90deg, #fff7ed 0%, #fde68a 100%);
            transition: background 0.4s;
        }
        .tab-active {
            background: var(--main-accent);
            color: #fff;
            font-weight: 600;
            transition: background 0.3s, color 0.3s;
        }
        .tab-inactive {
            background: #fff7ed;
            color: #b45309;
            transition: background 0.3s, color 0.3s;
        }
        .dark-mode {
            background: var(--main-dark-bg) !important;
            color: var(--main-dark-text) !important;
        }
        .dark-mode .bg-gastro {
            background: linear-gradient(90deg, #18181b 0%, #23272f 100%) !important;
        }
        .dark-mode .header-dark-bg {
        .header-main {
            transition: background 0.4s, color 0.4s;
        }
        .dark-mode .header-main {
            background: #18181b !important;
            color: var(--main-dark-accent) !important;
            border-bottom: 2px solid var(--main-dark-accent) !important;
        }
            background: #18181b !important;
            color: var(--main-dark-accent) !important;
            border-bottom: 2px solid var(--main-dark-accent) !important;
            box-shadow: 0 2px 16px 0 #00000040 !important;
        }
        .dark-mode .bg-white {
            background: var(--main-dark-card) !important;
            color: var(--main-dark-text) !important;
        }
        .dark-mode .text-yellow-900, .dark-mode .text-yellow-600 {
            color: var(--main-dark-accent) !important;
        }
        .dark-mode .border-yellow-400 {
            border-color: var(--main-dark-accent) !important;
        }
        .dark-mode .tab-inactive {
            background: #23272f !important;
            color: var(--main-dark-accent) !important;
        }
        .dark-mode .tab-active {
            background: var(--main-dark-accent) !important;
            color: #23272f !important;
        }
        .dark-mode .bg-yellow-500, .dark-mode .bg-yellow-100 {
            background: var(--main-dark-btn) !important;
            color: #23272f !important;
        }
        .dark-mode .hover\:bg-yellow-600:hover {
            background: var(--main-dark-btn-hover) !important;
        }
        .dark-mode .text-red-600 {
            color: #ff7675 !important;
        }
        .dark-mode input, .dark-mode textarea {
            background: var(--main-dark-input) !important;
            color: var(--main-dark-text) !important;
            border-color: var(--main-dark-border) !important;
        }
        .dark-mode .shadow-lg, .dark-mode .shadow-md, .dark-mode .shadow-sm, .dark-mode .shadow-2xl {
            box-shadow: 0 2px 16px 0 #00000040 !important;
        }
        .dark-mode .bg-white\/80 {
            background: #444857cc !important;
            color: var(--main-dark-accent) !important;
        }
        .dark-mode .font-bold {
            color: var(--main-dark-accent) !important;
        }
        .transition-all {
            transition: all 0.3s cubic-bezier(.4,0,.2,1);
        }
    </style>
</head>
<body class="bg-gastro min-h-screen">
    <div id="app">
        <div class="min-h-screen">
            <!-- Header -->
            <header class="sticky top-0 z-40 bg-white/90 shadow-lg border-b border-yellow-400 backdrop-blur-md transition-all header-main">
                <div class="max-w-md mx-auto px-4 py-3 flex items-center justify-between gap-2">
                    <div class="flex items-center gap-3">
                        <img src="https://img.icons8.com/emoji/48/000000/hamburger-emoji.png" alt="logo" class="w-10 h-10 drop-shadow" />
                        <div class="flex flex-col">
                            <h1 class="text-2xl sm:text-3xl font-extrabold text-yellow-600 tracking-wide leading-tight" style="letter-spacing:2px;">NIKO BURGER</h1>
                            <p class="text-sm text-yellow-900 font-medium leading-tight">Hamburguesas caseras</p>
                        </div>
                    </div>
                    <div class="flex gap-2 items-center">
                        <button onclick="toggleDarkMode()" class="flex items-center justify-center bg-yellow-100 hover:bg-yellow-200 text-yellow-900 px-2 py-2 rounded-full shadow transition-all" title="Modo claro/oscuro">
                            <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" /></svg>
                        </button>
                        <button onclick="toggleCart()" id="cart-header-btn" class="relative flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-full shadow-lg transition-all">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3.75h1.386c.51 0 .955.343 1.087.835l.383 1.437m0 0l1.7 6.374a2.25 2.25 0 002.183 1.704h7.299a2.25 2.25 0 002.183-1.704l1.7-6.374m-13.352 0h13.352m-13.352 0l-.383-1.437A1.125 1.125 0 014.636 3.75H2.25m16.5 16.5a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zm-11.25 0a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0z" />
                            </svg>
                            <span class="hidden sm:inline">Carrito</span> (<span id="cart-count">0</span>)
                            <span id="cart-header-total" class="ml-2 text-xs bg-white/80 text-yellow-900 px-2 py-1 rounded-full font-bold transition-all">‚Ç≤0</span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Menu con pesta√±as -->
            <main class="max-w-md mx-auto px-4 py-6">
                <div class="flex justify-center mb-6 gap-2">
                    <button class="tab-inactive px-4 py-2 rounded-full transition-all" id="tab-hamburguesas" onclick="showTab('hamburguesas')">Hamburguesas</button>
                    <button class="tab-inactive px-4 py-2 rounded-full transition-all" id="tab-acompanamientos" onclick="showTab('acompanamientos')">Acompa√±amientos</button>
                    <button class="tab-inactive px-4 py-2 rounded-full transition-all" id="tab-bebidas" onclick="showTab('bebidas')">Bebidas</button>
                </div>
                <section id="section-hamburguesas" class="tab-section">
                    <!-- <h2 class="text-xl font-semibold mb-4 text-yellow-900">Hamburguesas</h2> -->
                    <div class="space-y-4">
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Cheese Simple</h3>
                            <p class="text-sm text-yellow-700 mb-2">Pan, carne casera y queso cheddar</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤10.000</span>
                                <button onclick="addToCart('cheese-simple', 'Cheese Simple', 10000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Cheese Doble</h3>
                            <p class="text-sm text-yellow-700 mb-2">Pan, carne casera doble y queso cheddar</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤15.000</span>
                                <button onclick="addToCart('cheese-doble', 'Cheese Doble', 15000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Hambur Completa Simple</h3>
                            <p class="text-sm text-yellow-700 mb-2">Pan, carne casera, lechuga, tomate, panceta y queso cheddar</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤15.000</span>
                                <button onclick="addToCart('hambur-completa', 'Hambur Completa Simple', 15000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Hambur Completa Doble</h3>
                            <p class="text-sm text-yellow-700 mb-2">Pan, carne casera doble, lechuga, tomate, panceta y queso cheddar</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤20.000</span>
                                <button onclick="addToCart('hambur-completa-doble', 'Hambur Completa Doble', 20000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Tata Burger Simple</h3>
                            <p class="text-sm text-yellow-700 mb-2">Pan, carne casera, panceta, cebolla caramelizada y salsa picante</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤20.000</span>
                                <button onclick="addToCart('tata-burger', 'Tata Burger Simple', 20000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Tata Burger Doble</h3>
                            <p class="text-sm text-yellow-700 mb-2">Pan, carne casera doble, panceta, cebolla caramelizada y salsa picante</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤25.000</span>
                                <button onclick="addToCart('tata-burger-doble', 'Tata Burger Doble', 25000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="section-acompanamientos" class="tab-section hidden">
                    <!-- <h2 class="text-xl font-semibold mb-4 text-yellow-900">Acompa√±amientos</h2> -->
                    <div class="space-y-4">
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Papas Fritas</h3>
                            <p class="text-sm text-yellow-700 mb-2">Porci√≥n peque√±a de papas fritas</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤5.000</span>
                                <button onclick="addToCart('papas-5', 'Papas Fritas', 5000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Papas Fritas Grande</h3>
                            <p class="text-sm text-yellow-700 mb-2">Porci√≥n grande de papas fritas</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤10.000</span>
                                <button onclick="addToCart('papas-10', 'Papas Fritas Grande', 10000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="section-bebidas" class="tab-section hidden">
                    <!-- <h2 class="text-xl font-semibold mb-4 text-yellow-900">Bebidas</h2> -->
                    <div class="space-y-4">
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Coca Personal</h3>
                            <p class="text-sm text-yellow-700 mb-2">Coca Cola personal</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤4.000</span>
                                <button onclick="addToCart('coca-personal', 'Coca Personal', 4000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md border-l-8 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900">Coca de Medio</h3>
                            <p class="text-sm text-yellow-700 mb-2">Coca Cola de medio litro</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-semibold text-red-600">‚Ç≤6.000</span>
                                <button onclick="addToCart('coca-medio', 'Coca de Medio', 6000)" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Agregar</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Delivery eliminado del men√∫, se agrega en el carrito -->
            </main>
        </div>

        <!-- Cart Modal -->
        <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
            <div id="cart-modal-inner" class="flex flex-col bg-white max-w-md w-full" style="height:100dvh;max-height:100dvh;min-height:0;">
                <div class="p-4 border-b shrink-0">
                    <div class="flex justify-between items-center">
                        <h2 class="text-xl font-semibold">Tu Pedido</h2>
                        <button onclick="toggleCart()" class="text-gray-500 text-xl">√ó</button>
                    </div>
                </div>
                <div class="flex-1 min-h-0 overflow-y-auto">
                    <form class="flex flex-col h-full" onsubmit="event.preventDefault(); sendOrder();">
                        <div class="flex-1 min-h-0 overflow-y-auto p-4">
                            <div id="cart-items" class="space-y-4 mb-6">
                                <!-- Cart items will be added here -->
                            </div>
                            <div class="border-t pt-4">
                                <div class="flex justify-between items-center text-xl font-semibold mb-4">
                                    <span>Total:</span>
                                    <span id="cart-total">‚Ç≤0</span>
                                </div>
                                <div class="space-y-3">
                                    <input type="text" id="customer-name" placeholder="Tu nombre" 
                                           class="w-full px-3 py-2 border rounded-lg">
                                    <input type="tel" id="customer-phone" placeholder="Tu tel√©fono" 
                                           class="w-full px-3 py-2 border rounded-lg">
                                    <textarea id="order-notes" placeholder="Notas adicionales (opcional)" 
                                              class="w-full px-3 py-2 border rounded-lg h-20"></textarea>
                                </div>
                                <div class="mt-4">
                                    <label class="block font-medium mb-2 text-yellow-900">¬øC√≥mo deseas recibir tu pedido?</label>
                                    <div class="flex gap-3 mb-2">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="radio" name="delivery-option" value="delivery" checked class="accent-yellow-500" />
                                            <span>Delivery <span class="text-red-600 font-semibold">+5.000</span></span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="radio" name="delivery-option" value="local" class="accent-yellow-500" />
                                            <span>Pasar por el local</span>
                                        </label>
                                    </div>
                                    <label class="block font-medium mb-2 text-yellow-900">M√©todo de pago</label>
                                    <div class="flex gap-3">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="radio" name="pago-option" value="efectivo" checked class="accent-yellow-500" />
                                            <span>Efectivo</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="radio" name="pago-option" value="transferencia" class="accent-yellow-500" />
                                            <span>Transferencia bancaria</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pt-2 pb-2 bg-white border-t sticky bottom-0 z-10">
                            <button type="submit" 
                                    class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium" style="position:sticky;bottom:0;z-index:20;">
                                Enviar Pedido por WhatsApp
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        let cart = [];
        let darkMode = false;

        function addToCart(id, name, price) {
            const existingItem = cart.find(item => item.id === id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id, name, price, quantity: 1 });
            }
            updateCart();
            showAddedModal(name);
            animateCartButton();
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCart();
        }

        function updateQuantity(id, quantity) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity = Math.max(0, quantity);
                if (item.quantity === 0) {
                    removeFromCart(id);
                }
            }
            updateCart();
        }

        function updateCart() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const cartHeaderTotal = document.getElementById('cart-header-total');

            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            let totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            // Sumar delivery si est√° seleccionado
            const deliveryOption = document.querySelector('input[name="delivery-option"]:checked');
            let deliverySelected = deliveryOption && deliveryOption.value === 'delivery';
            if (deliverySelected && totalItems > 0) {
                totalPrice += 5000;
            }

            cartCount.textContent = totalItems;
            cartTotal.textContent = `‚Ç≤${totalPrice.toLocaleString()}`;
            if (cartHeaderTotal) cartHeaderTotal.textContent = `‚Ç≤${totalPrice.toLocaleString()}`;

            cartItems.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center py-2 border-b transition-all">
                    <div class="flex-1">
                        <h4 class="font-medium text-yellow-900">${item.name}</h4>
                        <p class="text-sm text-yellow-700">‚Ç≤${item.price.toLocaleString()}</p>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="updateQuantity('${item.id}', ${item.quantity - 1})" 
                                class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-900 transition-all">-</button>
                        <span class="w-8 text-center">${item.quantity}</span>
                        <button onclick="updateQuantity('${item.id}', ${item.quantity + 1})" 
                                class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-900 transition-all">+</button>
                    </div>
                </div>
            `).join('');
        }

        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.toggle('hidden');
            setTimeout(() => updateCart(), 100); // Para actualizar el total con delivery
        }

        function sendOrder() {
            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            const notes = document.getElementById('order-notes').value;
            const deliveryOption = document.querySelector('input[name="delivery-option"]:checked').value;
            const pagoOption = document.querySelector('input[name="pago-option"]:checked').value;

            if (!name || !phone) {
                alert('Por favor completa tu nombre y tel√©fono');
                return;
            }

            if (cart.length === 0) {
                alert('Tu carrito est√° vac√≠o');
                return;
            }

            let total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let deliveryText = '';
            if (deliveryOption === 'delivery') {
                total += 5000;
                deliveryText = '\nüöö *Delivery:* +‚Ç≤5.000';
            } else {
                deliveryText = '\nüè† *Retiro en local*';
            }

            let pagoText = pagoOption === 'efectivo' ? '\nüíµ *Pago:* Efectivo' : '\nüè¶ *Pago:* Transferencia bancaria';

            let message = `üçî *NUEVO PEDIDO - NIKO BURGER*\n\n`;
            message += `üë§ *Cliente:* ${name}\n`;
            message += `üì± *Tel√©fono:* ${phone}\n\n`;
            message += `üìù *Pedido:*\n`;
            
            cart.forEach(item => {
                message += `‚Ä¢ ${item.name} x${item.quantity} - ‚Ç≤${(item.price * item.quantity).toLocaleString()}\n`;
            });
            
            message += deliveryText;
            message += pagoText;
            message += `\n\nüí∞ *Total: ‚Ç≤${total.toLocaleString()}*\n`;
            
            if (notes) {
                message += `\nüìã *Notas:* ${notes}\n`;
            }
            
            message += `\n¬°Gracias por realizar su pedido! üçî`;

            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/595972157725?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
            
            // Clear cart and close modal
            cart = [];
            updateCart();
            toggleCart();
            
            alert('¬°Pedido enviado! Te redirigimos a WhatsApp para confirmar tu orden.');
        }

        // Tabs
        function showTab(tab) {
            const tabs = ['hamburguesas', 'acompanamientos', 'bebidas'];
            tabs.forEach(t => {
                document.getElementById('section-' + t).classList.add('hidden');
                document.getElementById('tab-' + t).classList.remove('tab-active');
                document.getElementById('tab-' + t).classList.add('tab-inactive');
            });
            document.getElementById('section-' + tab).classList.remove('hidden');
            document.getElementById('tab-' + tab).classList.add('tab-active');
            document.getElementById('tab-' + tab).classList.remove('tab-inactive');
        }
        // Mostrar hamburguesas por defecto
        showTab('hamburguesas');

        // Modal de agregado
        function showAddedModal(itemName) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white dark-mode:bg-[#27272a] rounded-xl shadow-2xl px-8 py-6 flex flex-col items-center border-4 border-yellow-400 animate-bounce-in transition-all">
                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#16a34a\" class=\"w-12 h-12 mb-2\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" /></svg>
                    <p class="text-lg font-semibold text-yellow-900 mb-1">¬°${itemName} agregado!</p>
                </div>
            `;
            document.body.appendChild(modal);
            setTimeout(() => {
                modal.classList.add('opacity-0');
                setTimeout(() => document.body.removeChild(modal), 300);
            }, 900);
        }

        // Animaci√≥n suave al bot√≥n del carrito
        function animateCartButton() {
            const btn = document.getElementById('cart-header-btn');
            if (!btn) return;
            btn.classList.add('ring-4', 'ring-yellow-300', 'scale-105');
            setTimeout(() => {
                btn.classList.remove('ring-4', 'ring-yellow-300', 'scale-105');
            }, 350);
        }

        // Modo oscuro
        function toggleDarkMode() {
            darkMode = !darkMode;
            document.body.classList.toggle('dark-mode', darkMode);
            // Cambia icono
            const icon = document.getElementById('icon-moon');
            if (icon) {
                if (darkMode) {
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-13.66l-.71.71M4.05 19.95l-.71.71M21 12h-1M4 12H3m16.66 5.66l-.71-.71M4.05 4.05l-.71-.71M16 12a4 4 0 11-8 0 4 4 0 018 0z" />';
                } else {
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" />';
                }
            }
        }

        // Actualizar total cuando se cambia la opci√≥n de delivery
        document.addEventListener('change', function(e) {
            if (e.target && e.target.name === 'delivery-option') {
                updateCart();
            }
        });

        // Inicializar modo oscuro si el usuario lo prefiere
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            darkMode = true;
            document.body.classList.add('dark-mode');
        }

        // Initialize
        updateCart();
    </script>
</body>
</html>